<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LexCMS - Documentaci√≥n Unificada</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #3b82f6;
            --primary-dark: #2563eb;
            --bg: #ffffff;
            --bg-secondary: #f8fafc;
            --text: #1e293b;
            --text-secondary: #64748b;
            --border: #e2e8f0;
            --sidebar-width: 320px;
            --header-height: 64px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.6;
            color: var(--text);
            background: var(--bg-secondary);
        }

        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: var(--header-height);
            background: var(--bg);
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            padding: 0 2rem;
            z-index: 100;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }

        .header h1 {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary);
        }

        .header .subtitle {
            margin-left: 1rem;
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .container {
            display: flex;
            margin-top: var(--header-height);
            min-height: calc(100vh - var(--header-height));
        }

        .sidebar {
            width: var(--sidebar-width);
            background: var(--bg);
            border-right: 1px solid var(--border);
            position: fixed;
            left: 0;
            top: var(--header-height);
            bottom: 0;
            overflow-y: auto;
            padding: 1.5rem 0;
        }

        .sidebar-category {
            margin-bottom: 1.5rem;
        }

        .category-title {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-secondary);
            padding: 0 1.5rem;
            margin-bottom: 0.5rem;
        }

        .category-count {
            display: inline-block;
            background: var(--bg-secondary);
            color: var(--text-secondary);
            font-size: 0.7rem;
            padding: 0.125rem 0.375rem;
            border-radius: 9999px;
            margin-left: 0.5rem;
        }

        .doc-link {
            display: block;
            padding: 0.625rem 1.5rem;
            color: var(--text);
            text-decoration: none;
            font-size: 0.875rem;
            transition: all 0.2s;
            border-left: 3px solid transparent;
        }

        .doc-link:hover {
            background: var(--bg-secondary);
            border-left-color: var(--primary);
        }

        .doc-link.active {
            background: #eff6ff;
            border-left-color: var(--primary);
            color: var(--primary-dark);
            font-weight: 500;
        }

        .main-content {
            margin-left: var(--sidebar-width);
            flex: 1;
            padding: 2rem;
            max-width: 1200px;
        }

        .search-box {
            position: sticky;
            top: 0;
            background: var(--bg);
            padding: 1rem 1.5rem;
            border-bottom: 1px solid var(--border);
            margin-bottom: 1rem;
        }

        .search-input {
            width: 100%;
            padding: 0.625rem 1rem;
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            font-size: 0.875rem;
            outline: none;
            transition: all 0.2s;
        }

        .search-input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .doc-content {
            background: var(--bg);
            padding: 3rem;
            border-radius: 0.75rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            margin-bottom: 2rem;
        }

        .doc-content h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--text);
        }

        .doc-meta {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--border);
            flex-wrap: wrap;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .meta-label {
            font-weight: 500;
            color: var(--text);
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            background: #eff6ff;
            color: var(--primary-dark);
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .doc-summary {
            background: var(--bg-secondary);
            border-left: 4px solid var(--primary);
            padding: 1rem 1.5rem;
            margin-bottom: 2rem;
            border-radius: 0 0.5rem 0.5rem 0;
        }

        .welcome-screen {
            text-align: center;
            padding: 4rem 2rem;
            max-width: 600px;
            margin: 0 auto;
        }

        .welcome-screen h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--text);
        }

        .welcome-screen p {
            font-size: 1.125rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 2rem;
        }

        .stat-card {
            background: var(--bg);
            padding: 1.5rem;
            border-radius: 0.75rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
        }

        .stat-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-top: 0.5rem;
        }

        .keyword-tag {
            display: inline-block;
            padding: 0.25rem 0.625rem;
            background: var(--bg-secondary);
            color: var(--text-secondary);
            border-radius: 0.25rem;
            font-size: 0.75rem;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .file-path {
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.875rem;
            background: #f1f5f9;
            padding: 0.5rem 0.75rem;
            border-radius: 0.375rem;
            color: #475569;
            display: inline-block;
        }

        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s;
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }
        }

        .no-results {
            text-align: center;
            padding: 3rem;
            color: var(--text-secondary);
        }

        .hidden {
            display: none !important;
        }

        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #cbd5e1;
        }

        .category-docs {
            padding-left: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üìö LexCMS</h1>
        <span class="subtitle">Documentaci√≥n Unificada | 86 Documentos en 15 Categor√≠as</span>
    </div>

    <div class="container">
        <aside class="sidebar" id="sidebar">
            <div class="search-box">
                <input
                    type="text"
                    class="search-input"
                    id="searchInput"
                    placeholder="üîç Buscar documentaci√≥n..."
                    autocomplete="off"
                >
            </div>

            <div id="sidebarCategories">
                <!-- Categories will be populated by JavaScript -->
            </div>
        </aside>

        <main class="main-content">
            <div id="content">
                <div class="doc-content welcome-screen">
                    <h2>üëã Bienvenido a la Documentaci√≥n de LexCMS</h2>
                    <p>Selecciona un documento del men√∫ lateral para comenzar</p>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value">86</div>
                            <div class="stat-label">Documentos</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">15</div>
                            <div class="stat-label">Categor√≠as</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">100%</div>
                            <div class="stat-label">Cobertura</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Documentation data
        const docs = {
            "1": {
                name: "Introducci√≥n y Gu√≠as de Inicio",
                docs: [
                    { title: "LexCMS - Sistema de Gesti√≥n de Contenidos", file: "README.md", summary: "Documentaci√≥n principal del proyecto LexCMS, un CMS moderno construido con Deno, Hono y Drizzle ORM con sistema de themes y plugins.", keywords: ["introducci√≥n", "overview", "caracter√≠sticas", "inicio r√°pido"] },
                    { title: "START - Inicio R√°pido", file: "START.md", summary: "Gu√≠a r√°pida de inicio con comandos esenciales para levantar el proyecto, crear contenido y acceder al admin panel.", keywords: ["quick start", "comandos", "workflow"] },
                    { title: "Getting Started - Gu√≠a Completa", file: "test + docs/GETTING_STARTED.md", summary: "Gu√≠a detallada paso a paso para configurar y empezar a usar LexCMS, desde la instalaci√≥n hasta el primer deployment.", keywords: ["tutorial", "instalaci√≥n", "configuraci√≥n", "deploy"] }
                ]
            },
            "2": {
                name: "Arquitectura y Sistemas",
                docs: [
                    { title: "Arquitectura del Panel de Administraci√≥n", file: "ADMIN_PANEL_ARCHITECTURE.md", summary: "Documentaci√≥n detallada de la arquitectura del panel de administraci√≥n con estructura de componentes, routing y assets.", keywords: ["admin", "arquitectura", "componentes", "layout"] },
                    { title: "Sistema de Themes", file: "THEME_SYSTEM_README.md", summary: "Overview del sistema de themes de LexCMS con templates, partials, assets y configuraci√≥n mediante theme.json.", keywords: ["themes", "templates", "frontend", "personalizaci√≥n"] },
                    { title: "An√°lisis del Sistema de Themes", file: "docs/THEME_SYSTEM_ANALYSIS.md", summary: "An√°lisis t√©cnico profundo del sistema de themes con evaluaci√≥n de arquitectura, hooks, child themes y SDK.", keywords: ["an√°lisis", "themes", "hooks", "child themes"] },
                    { title: "Sistema de Plugins", file: "PLUGIN_SYSTEM.md", summary: "Documentaci√≥n completa del sistema de plugins extensible con hooks, filtros y ejemplos de implementaci√≥n.", keywords: ["plugins", "extensibilidad", "hooks", "api"] },
                    { title: "Sistema RBAC", file: "docs/RBAC_SYSTEM.md", summary: "Sistema de control de acceso basado en roles con permisos granulares, middleware y gesti√≥n de usuarios.", keywords: ["rbac", "roles", "permisos", "autenticaci√≥n"] },
                    { title: "Implementaci√≥n del CMS", file: "test + docs/CMS_IMPLEMENTATION.md", summary: "Documentaci√≥n t√©cnica de la implementaci√≥n completa del CMS con base de datos, API REST y funcionalidades core.", keywords: ["implementaci√≥n", "arquitectura", "database", "api"] },
                    { title: "Feature de Paneles de Administraci√≥n", file: "ADMIN_PANELS_FEATURE.md", summary: "Sistema de paneles personalizados para plugins con registro din√°mico, navegaci√≥n integrada y ejemplos pr√°cticos.", keywords: ["admin panels", "plugins", "personalizaci√≥n"] },
                    { title: "Sistema de Comentarios", file: "test + docs/COMMENTS_SYSTEM.md", summary: "Sistema completo de comentarios con threading, moderaci√≥n, censura autom√°tica y API REST.", keywords: ["comentarios", "moderaci√≥n", "threading", "censura"] },
                    { title: "Implementaci√≥n del Sistema de Categor√≠as", file: "test + docs/CATEGORY_SYSTEM_IMPLEMENTATION.md", summary: "Sistema mejorado de categor√≠as con subcategor√≠as ilimitadas, SEO completo, soft delete y merge de categor√≠as.", keywords: ["categor√≠as", "taxonom√≠a", "seo", "jerarqu√≠a"] },
                    { title: "Implementaci√≥n del Sistema de Men√∫s", file: "test + docs/MENU_SYSTEM_IMPLEMENTATION.md", summary: "Sistema de men√∫s con soporte para m√∫ltiples ubicaciones, items anidados y gesti√≥n visual desde admin panel.", keywords: ["men√∫s", "navegaci√≥n", "ui"] },
                    { title: "Sistema de Media", file: "test + docs/MEDIA_SYSTEM.md", summary: "Media Library completa con upload, gesti√≥n, metadata, organizaci√≥n por carpetas y integraci√≥n con editor.", keywords: ["media", "im√°genes", "archivos", "uploads"] },
                    { title: "Sistema de SEO y AI", file: "test + docs/SEO_AI_SYSTEM.md", summary: "Sistema avanzado de SEO con generaci√≥n autom√°tica mediante AI, meta tags, Open Graph, Twitter Cards y Schema.org.", keywords: ["seo", "ai", "meta tags", "optimization"] },
                    { title: "Sistema de Notificaciones del Admin", file: "docs/ADMIN_NOTIFICATIONS_SYSTEM.md", summary: "Sistema de notificaciones toast y panel con polling autom√°tico, tipos de notificaci√≥n y estilos modernos.", keywords: ["notificaciones", "toast", "admin", "ui"] }
                ]
            },
            "3": {
                name: "Gu√≠as de Desarrollo",
                docs: [
                    { title: "Gu√≠a de Desarrollo de Themes", file: "docs/THEME_DEVELOPMENT_GUIDE.md", summary: "Gu√≠a completa para crear themes personalizados con templates TSX, configuraci√≥n, assets y mejores pr√°cticas.", keywords: ["desarrollo", "themes", "tutorial", "tsx"] },
                    { title: "Gu√≠a del Theme Customizer", file: "docs/THEME_CUSTOMIZER_GUIDE.md", summary: "Customizer visual en tiempo real para ajustar configuraciones del theme sin editar c√≥digo.", keywords: ["customizer", "configuraci√≥n", "visual", "settings"] },
                    { title: "Gu√≠a de Child Themes", file: "docs/CHILD_THEMES_GUIDE.md", summary: "Sistema de themes hijos que heredan funcionalidad del padre permitiendo personalizaciones sin modificar el original.", keywords: ["child themes", "herencia", "personalizaci√≥n"] },
                    { title: "Gu√≠a de Widgets", file: "docs/WIDGETS_GUIDE.md", summary: "Sistema de widgets reutilizables para sidebars y √°reas de widgets con gesti√≥n desde admin panel.", keywords: ["widgets", "componentes", "reutilizaci√≥n"] },
                    { title: "Gu√≠a de Plugins", file: "PLUGINS_GUIDE.md", summary: "Tutorial completo para crear plugins con hooks, API, lifecycle methods y ejemplos pr√°cticos.", keywords: ["plugins", "desarrollo", "hooks", "api"] },
                    { title: "Gu√≠a de Internacionalizaci√≥n (i18n)", file: "docs/I18N_GUIDE.md", summary: "Sistema de traducci√≥n y localizaci√≥n para crear sitios multiidioma con gesti√≥n de strings y formatos.", keywords: ["i18n", "traducci√≥n", "internacionalizaci√≥n", "idiomas"] },
                    { title: "Gu√≠a de Hooks", file: "src/themes/sdk/HOOKS_GUIDE.md", summary: "Referencia completa de hooks disponibles en el SDK para extender y modificar funcionalidad.", keywords: ["hooks", "sdk", "api", "extensi√≥n"] },
                    { title: "Theme SDK - Documentaci√≥n", file: "src/themes/sdk/README.md", summary: "SDK completo de TypeScript para desarrollo de themes con helpers, tipos, funciones de rendering y utilidades.", keywords: ["sdk", "typescript", "helpers", "api"] },
                    { title: "Configuraci√≥n de Homepage", file: "docs/HOMEPAGE_CONFIGURATION.md", summary: "Gu√≠a para configurar la homepage con posts destacados, secciones personalizadas y layouts flexibles.", keywords: ["homepage", "configuraci√≥n", "layout"] },
                    { title: "Hot Reload y Preview", file: "docs/HOT_RELOAD_AND_PREVIEW.md", summary: "Sistema de hot reload para desarrollo de themes y preview en tiempo real de cambios.", keywords: ["hot reload", "preview", "desarrollo", "watch"] }
                ]
            },
            "4": {
                name: "Implementaci√≥n y Features",
                docs: [
                    { title: "Plan del CMS", file: "test + docs/CMS_PLAN.md", summary: "Plan maestro de implementaci√≥n con roadmap de funcionalidades, prioridades y arquitectura del sistema.", keywords: ["roadmap", "plan", "features", "arquitectura"] },
                    { title: "Control de Comentarios", file: "test + docs/COMMENTS_CONTROL.md", summary: "Sistema de control y moderaci√≥n de comentarios con flujos de aprobaci√≥n, spam detection y gesti√≥n masiva.", keywords: ["comentarios", "moderaci√≥n", "control"] },
                    { title: "Progreso de Implementaci√≥n", file: "PROGRESO_IMPLEMENTACION.md", summary: "Estado actual del desarrollo con features completadas, en progreso y pendientes del sistema.", keywords: ["progreso", "estado", "features", "desarrollo"] },
                    { title: "Resumen de Implementaci√≥n", file: "docs/IMPLEMENTATION_SUMMARY.md", summary: "Resumen ejecutivo del sistema de themes con 8 de 18 features completadas y roadmap detallado.", keywords: ["resumen", "themes", "implementaci√≥n"] },
                    { title: "Resumen Implementaci√≥n Categor√≠as", file: "test + docs/RESUMEN_IMPLEMENTACION.md", summary: "Implementaci√≥n 100% completa del sistema de categor√≠as mejorado con SEO, subcategor√≠as y merge.", keywords: ["categor√≠as", "completado", "seo"] },
                    { title: "Blueprint de Features Restantes", file: "docs/REMAINING_FEATURES_BLUEPRINT.md", summary: "Plan detallado de las funcionalidades pendientes de implementar con especificaciones t√©cnicas.", keywords: ["features", "pendientes", "blueprint"] }
                ]
            },
            "5": {
                name: "Seguridad",
                docs: [
                    { title: "Revisi√≥n de Seguridad", file: "test + docs/SECURITY_REVIEW.md", summary: "Revisi√≥n comprehensiva de seguridad del sistema con vulnerabilidades encontradas y medidas de mitigaci√≥n.", keywords: ["seguridad", "vulnerabilidades", "revisi√≥n"] },
                    { title: "Features de Seguridad", file: "test + docs/SECURITY_FEATURES.md", summary: "Cat√°logo de caracter√≠sticas de seguridad implementadas: JWT, RBAC, sanitizaci√≥n, rate limiting, CSRF protection.", keywords: ["seguridad", "features", "protecci√≥n"] },
                    { title: "Reporte de Correcciones de Seguridad", file: "test + docs/SECURITY_FIXES_REPORT.md", summary: "Reporte detallado de vulnerabilidades corregidas con patches aplicados y mejoras de seguridad.", keywords: ["fixes", "patches", "vulnerabilidades"] },
                    { title: "Reporte de Tests de Seguridad", file: "test + docs/SECURITY_TEST_REPORT.md", summary: "Resultados de tests de seguridad automatizados y manuales con cobertura de casos y recomendaciones.", keywords: ["testing", "seguridad", "resultados"] }
                ]
            },
            "6": {
                name: "Rendimiento",
                docs: [
                    { title: "Auditor√≠a de Rendimiento", file: "test + docs/PERFORMANCE_AUDIT.md", summary: "Auditor√≠a completa de rendimiento con benchmarks, bottlenecks identificados y oportunidades de optimizaci√≥n.", keywords: ["performance", "auditor√≠a", "benchmarks"] },
                    { title: "Optimizaciones de Rendimiento", file: "test + docs/PERFORMANCE_OPTIMIZATIONS.md", summary: "Optimizaciones aplicadas al sistema: caching, lazy loading, query optimization y compresi√≥n.", keywords: ["optimizaci√≥n", "performance", "caching"] },
                    { title: "Reporte de Rendimiento", file: "test + docs/PERFORMANCE_REPORT.md", summary: "M√©tricas de rendimiento del sistema con comparativas antes/despu√©s de optimizaciones y resultados de benchmarks.", keywords: ["m√©tricas", "benchmarks", "resultados"] }
                ]
            },
            "7": {
                name: "An√°lisis y Auditor√≠as",
                docs: [
                    { title: "An√°lisis y Mejoras Sugeridas", file: "ANALISIS_Y_MEJORAS_SUGERIDAS.md", summary: "An√°lisis global del c√≥digo con sugerencias de mejora en arquitectura, patrones y mejores pr√°cticas.", keywords: ["an√°lisis", "mejoras", "c√≥digo"] },
                    { title: "An√°lisis Detallado del C√≥digo", file: "CODE_ANALYSIS_DETAILED.md", summary: "An√°lisis t√©cnico profundo de la calidad del c√≥digo, complejidad ciclom√°tica y deuda t√©cnica.", keywords: ["an√°lisis", "calidad", "complejidad"] },
                    { title: "Referencia R√°pida de Issues de C√≥digo", file: "CODE_ISSUES_QUICK_REFERENCE.md", summary: "Listado r√°pido de problemas de c√≥digo detectados con ubicaci√≥n, severidad y soluciones sugeridas.", keywords: ["issues", "bugs", "referencia"] },
                    { title: "Auditor√≠a de Valores Hardcoded", file: "HARDCODED_VALUES_AUDIT.md", summary: "Auditor√≠a de valores hardcoded en el c√≥digo con recomendaciones para usar configuraci√≥n o constantes.", keywords: ["hardcoded", "configuraci√≥n", "refactor"] },
                    { title: "Auditor√≠a de Redundancia", file: "test + docs/REDUNDANCY_AUDIT.md", summary: "Identificaci√≥n de c√≥digo duplicado y redundante con oportunidades de refactorizaci√≥n y DRY.", keywords: ["redundancia", "duplicaci√≥n", "dry"] },
                    { title: "Reporte de Auditor√≠a SEO", file: "SEO-AUDIT-REPORT.md", summary: "Auditor√≠a SEO del sistema con an√°lisis de meta tags, sitemap, robots.txt y mejores pr√°cticas.", keywords: ["seo", "auditor√≠a", "optimization"] },
                    { title: "Hallazgos de Revisi√≥n de C√≥digo", file: "REVISION_CODIGO_HALLAZGOS.md", summary: "Hallazgos de code review con issues cr√≠ticos, warnings y sugerencias de mejora.", keywords: ["code review", "hallazgos", "quality"] },
                    { title: "An√°lisis del Dise√±o Xoya", file: "docs/XOYA_DESIGN_ANALYSIS.md", summary: "An√°lisis del template Xoya para inspiraci√≥n en el redise√±o del admin panel.", keywords: ["dise√±o", "an√°lisis", "inspiraci√≥n"] }
                ]
            },
            "8": {
                name: "Mejoras y Propuestas",
                docs: [
                    { title: "Gaps Backend-Frontend", file: "GAPS_BACKEND_FRONTEND.md", summary: "Identificaci√≥n de desconexiones entre backend y frontend con propuestas de integraci√≥n.", keywords: ["gaps", "backend", "frontend", "integraci√≥n"] },
                    { title: "Propuestas de Mejoras", file: "PROPUESTAS_MEJORAS.md", summary: "Conjunto de propuestas de mejora para funcionalidad, UX y arquitectura del sistema.", keywords: ["propuestas", "mejoras", "features"] },
                    { title: "Mejoras del Sistema de Contenido", file: "MEJORAS_SISTEMA_CONTENIDO.md", summary: "Propuestas espec√≠ficas para mejorar el sistema de gesti√≥n de contenido y editor.", keywords: ["contenido", "editor", "mejoras"] },
                    { title: "Mejoras del Sistema de Plugins", file: "PLUGIN_SYSTEM_IMPROVEMENTS.md", summary: "Roadmap de mejoras para el sistema de plugins con nuevas capacidades y mejor API.", keywords: ["plugins", "mejoras", "api"] }
                ]
            },
            "9": {
                name: "Testing y Depuraci√≥n",
                docs: [
                    { title: "Resultados de Tests", file: "test + docs/TEST_RESULTS.md", summary: "Resultados de la suite de tests con cobertura, casos pasados/fallidos y estad√≠sticas.", keywords: ["testing", "resultados", "cobertura"] },
                    { title: "Test de Notificaciones", file: "docs/TEST_NOTIFICATIONS.md", summary: "Tests espec√≠ficos del sistema de notificaciones con casos de uso y validaci√≥n.", keywords: ["notificaciones", "testing", "validaci√≥n"] },
                    { title: "Resumen de Correcciones de Comentarios", file: "COMMENTS_FIXES_SUMMARY.md", summary: "Resumen de bugs corregidos en el sistema de comentarios con fixes aplicados.", keywords: ["comentarios", "fixes", "bugs"] },
                    { title: "Revisi√≥n del Sistema de Comentarios", file: "COMMENTS_SYSTEM_REVIEW.md", summary: "Revisi√≥n t√©cnica del sistema de comentarios con issues encontrados y soluciones.", keywords: ["comentarios", "revisi√≥n", "issues"] },
                    { title: "Debug del Theme Corporativo", file: "CORPORATE_THEME_DEBUG.md", summary: "Gu√≠a de debugging del theme corporativo con problemas comunes y soluciones.", keywords: ["debug", "theme", "troubleshooting"] },
                    { title: "Gu√≠a Detallada de Correcciones", file: "FIX_GUIDE_DETAILED.md", summary: "Gu√≠a paso a paso para corregir los problemas m√°s comunes del sistema.", keywords: ["fixes", "gu√≠a", "soluciones"] },
                    { title: "Gu√≠a R√°pida de Correcciones", file: "QUICK_FIX_GUIDE.md", summary: "Quick fixes para problemas comunes con soluciones r√°pidas y comandos √∫tiles.", keywords: ["quick fix", "troubleshooting", "comandos"] },
                    { title: "Correcci√≥n del Error CreateHash", file: "FIX_CREATEHASH_ERROR.md", summary: "Soluci√≥n espec√≠fica para el error de createHash en Deno con migraci√≥n de node:crypto.", keywords: ["createHash", "error", "deno", "crypto"] }
                ]
            },
            "10": {
                name: "Migraciones y Configuraci√≥n",
                docs: [
                    { title: "Setup de RBAC", file: "RBAC_SETUP.md", summary: "Gu√≠a de configuraci√≥n inicial del sistema RBAC con roles, permisos y usuarios.", keywords: ["rbac", "setup", "configuraci√≥n"] },
                    { title: "Instalaci√≥n RBAC Completada", file: "RBAC_INSTALLATION_COMPLETE.md", summary: "Confirmaci√≥n de instalaci√≥n exitosa de RBAC con checklist de verificaci√≥n.", keywords: ["rbac", "instalaci√≥n", "completado"] },
                    { title: "Gu√≠a de RBAC", file: "test + docs/RBAC_GUIDE.md", summary: "Gu√≠a completa de uso del sistema RBAC para desarrolladores y administradores.", keywords: ["rbac", "gu√≠a", "permisos"] },
                    { title: "Instrucciones de Migraci√≥n", file: "MIGRATION_INSTRUCTIONS.md", summary: "Instrucciones para migrar entre versiones del CMS y actualizar base de datos.", keywords: ["migraci√≥n", "actualizaci√≥n", "versiones"] },
                    { title: "Gu√≠a de Migraci√≥n de Crypto", file: "CRYPTO_MIGRATION_GUIDE.md", summary: "Migraci√≥n de node:crypto a crypto nativo de Deno con ejemplos y soluci√≥n de problemas.", keywords: ["crypto", "migraci√≥n", "deno"] },
                    { title: "DaisyUI", file: "docs/DAISYUI.md", summary: "Configuraci√≥n y uso de DaisyUI components library con Tailwind CSS.", keywords: ["daisyui", "components", "tailwind"] },
                    { title: "Compatibilidad con DaisyUI", file: "docs/DAISYUI_COMPATIBILITY.md", summary: "Gu√≠a de compatibilidad de DaisyUI con el sistema de themes y componentes personalizados.", keywords: ["daisyui", "compatibilidad", "themes"] },
                    { title: "Tailwind CSS", file: "test + docs/TAILWIND.md", summary: "Configuraci√≥n de Tailwind CSS en el proyecto con customizaci√≥n y mejores pr√°cticas.", keywords: ["tailwind", "css", "configuraci√≥n"] },
                    { title: "Themes - Configuraci√≥n", file: "THEMES.md", summary: "Configuraci√≥n general del sistema de themes con activaci√≥n, settings y troubleshooting.", keywords: ["themes", "configuraci√≥n", "setup"] }
                ]
            },
            "11": {
                name: "Changelog y Progreso",
                docs: [
                    { title: "Changelog Admin Panels", file: "CHANGELOG_ADMIN_PANELS.md", summary: "Historial de cambios del sistema de paneles de administraci√≥n con versiones y mejoras.", keywords: ["changelog", "admin", "historial"] }
                ]
            },
            "12": {
                name: "Dise√±o",
                docs: [
                    { title: "Sistema de Dise√±o", file: "docs/design-system.md", summary: "Sistema de dise√±o moderno del admin panel con paleta de colores, tipograf√≠a, componentes y gu√≠as visuales.", keywords: ["dise√±o", "ui", "componentes", "estilo"] },
                    { title: "Plan de Redise√±o del Admin", file: "docs/ADMIN_REDESIGN_PLAN.md", summary: "Plan completo de redise√±o del panel de administraci√≥n con mockups, componentes y cronograma.", keywords: ["redise√±o", "admin", "plan", "ui"] },
                    { title: "README del Redise√±o", file: "docs/README-REDESIGN.md", summary: "Documentaci√≥n del proceso de redise√±o con decisiones de dise√±o y componentes implementados.", keywords: ["redise√±o", "documentaci√≥n", "proceso"] },
                    { title: "Comparaci√≥n de Dise√±os", file: "docs/COMPARISON.md", summary: "Comparaci√≥n visual y t√©cnica entre dise√±o actual y propuesto del admin panel.", keywords: ["comparaci√≥n", "dise√±o", "antes/despu√©s"] }
                ]
            },
            "13": {
                name: "Plugins",
                docs: [
                    { title: "Resumen Plugin Auto-Moderaci√≥n", file: "PLUGIN_AUTO_MODERATION_SUMMARY.md", summary: "Resumen del plugin de auto-moderaci√≥n con detecci√≥n de spam local y via Akismet.", keywords: ["plugin", "moderaci√≥n", "spam", "akismet"] },
                    { title: "Plugin Analytics Dashboard", file: "plugins/analytics-dashboard/README.md", summary: "Plugin de demostraci√≥n que muestra c√≥mo crear paneles personalizados de anal√≠ticas en el admin.", keywords: ["plugin", "analytics", "dashboard", "ejemplo"] },
                    { title: "Plugin CDN Cloudflare", file: "plugins/cdn-cloudflare/README.md", summary: "Plugin para servir archivos media desde Cloudflare CDN mejorando rendimiento y distribuci√≥n global.", keywords: ["plugin", "cdn", "cloudflare", "media"] },
                    { title: "Plugin Hello World", file: "plugins/hello-world/README.md", summary: "Plugin de ejemplo b√°sico que demuestra la estructura y API del sistema de plugins.", keywords: ["plugin", "ejemplo", "hello world", "tutorial"] },
                    { title: "Plugin Auto-Moderaci√≥n", file: "plugins/auto-moderation/README.md", summary: "Sistema inteligente de moderaci√≥n autom√°tica de comentarios con detecci√≥n local, Akismet y modo h√≠brido.", keywords: ["plugin", "moderaci√≥n", "spam", "ml"] },
                    { title: "Ejemplos de Auto-Moderaci√≥n", file: "plugins/auto-moderation/EXAMPLES.md", summary: "Ejemplos pr√°cticos de configuraci√≥n y uso del plugin de auto-moderaci√≥n en diferentes escenarios.", keywords: ["ejemplos", "moderaci√≥n", "configuraci√≥n"] }
                ]
            },
            "14": {
                name: "Base de Datos",
                docs: [
                    { title: "M√≥dulo de Base de Datos", file: "src/db/README.md", summary: "Documentaci√≥n del m√≥dulo de base de datos con estructura, schema Drizzle y sistema de migraciones.", keywords: ["database", "drizzle", "schema", "migrations"] }
                ]
            },
            "15": {
                name: "Otros",
                docs: [
                    { title: "Sistema de Comentarios - Library", file: "src/lib/comments/README.md", summary: "Librer√≠a reutilizable del sistema de comentarios con hooks, funciones de rendering y estilos adaptables.", keywords: ["comentarios", "librer√≠a", "hooks", "components"] },
                    { title: "Ejemplos del Sistema de Actualizaciones", file: "src/lib/system-updates/examples/README.md", summary: "Ejemplos de configuraci√≥n del sistema de actualizaciones autom√°ticas con formatos JSON y gu√≠as de uso.", keywords: ["actualizaciones", "ejemplos", "configuraci√≥n"] }
                ]
            }
        };

        // Render sidebar
        function renderSidebar() {
            const container = document.getElementById('sidebarCategories');
            container.innerHTML = '';

            Object.keys(docs).forEach(categoryId => {
                const category = docs[categoryId];
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'sidebar-category';

                const categoryTitle = document.createElement('div');
                categoryTitle.className = 'category-title';
                categoryTitle.innerHTML = `
                    ${category.name}
                    <span class="category-count">${category.docs.length}</span>
                `;
                categoryDiv.appendChild(categoryTitle);

                const docsDiv = document.createElement('div');
                docsDiv.className = 'category-docs';

                category.docs.forEach(doc => {
                    const link = document.createElement('a');
                    link.href = '#';
                    link.className = 'doc-link';
                    link.textContent = doc.title;
                    link.dataset.file = doc.file;
                    link.dataset.categoryId = categoryId;
                    link.onclick = (e) => {
                        e.preventDefault();
                        showDocument(categoryId, doc);

                        // Update active state
                        document.querySelectorAll('.doc-link').forEach(l => l.classList.remove('active'));
                        link.classList.add('active');
                    };
                    docsDiv.appendChild(link);
                });

                categoryDiv.appendChild(docsDiv);
                container.appendChild(categoryDiv);
            });
        }

        // Show document
        function showDocument(categoryId, doc) {
            const content = document.getElementById('content');
            const category = docs[categoryId];

            content.innerHTML = `
                <div class="doc-content">
                    <h1>${doc.title}</h1>

                    <div class="doc-meta">
                        <div class="meta-item">
                            <span class="meta-label">Categor√≠a:</span>
                            <span class="badge">${category.name}</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">Archivo:</span>
                            <span class="file-path">${doc.file}</span>
                        </div>
                    </div>

                    <div class="doc-summary">
                        <strong>üìù Resumen:</strong> ${doc.summary}
                    </div>

                    ${doc.keywords ? `
                    <div style="margin-bottom: 2rem;">
                        <strong style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary); font-size: 0.875rem;">üè∑Ô∏è Keywords:</strong>
                        ${doc.keywords.map(kw => `<span class="keyword-tag">${kw}</span>`).join('')}
                    </div>
                    ` : ''}

                    <div style="padding: 2rem; background: var(--bg-secondary); border-radius: 0.5rem; text-align: center;">
                        <p style="color: var(--text-secondary); margin-bottom: 1rem;">
                            üìÑ Para ver el contenido completo de este documento, consulta el archivo:
                        </p>
                        <code style="background: var(--bg); padding: 0.75rem 1.5rem; border-radius: 0.5rem; display: inline-block; font-family: monospace; color: var(--primary);">
                            /home/user/cms/${doc.file}
                        </code>
                    </div>
                </div>
            `;
        }

        // Search functionality
        const searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('input', (e) => {
            const query = e.target.value.toLowerCase();

            if (!query) {
                // Show all
                document.querySelectorAll('.doc-link').forEach(link => {
                    link.style.display = 'block';
                });
                document.querySelectorAll('.sidebar-category').forEach(cat => {
                    cat.style.display = 'block';
                });
                return;
            }

            // Filter
            let hasResults = false;
            document.querySelectorAll('.sidebar-category').forEach(categoryDiv => {
                let categoryHasResults = false;
                const links = categoryDiv.querySelectorAll('.doc-link');

                links.forEach(link => {
                    const title = link.textContent.toLowerCase();
                    const file = link.dataset.file.toLowerCase();

                    if (title.includes(query) || file.includes(query)) {
                        link.style.display = 'block';
                        categoryHasResults = true;
                        hasResults = true;
                    } else {
                        link.style.display = 'none';
                    }
                });

                categoryDiv.style.display = categoryHasResults ? 'block' : 'none';
            });

            if (!hasResults) {
                console.log('No results found');
            }
        });

        // Initialize
        renderSidebar();
    </script>
</body>
</html>
