/**
 * LexCMS Admin Panel - Tailwind CSS
 * Based on Windmill Dashboard, adapted for Tailwind v3.4
 */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============= ADMIN LAYOUT ============= */

@layer components {
  /* Main Layout */
  .admin-layout {
    @apply flex h-screen bg-gray-50 dark:bg-gray-900 overflow-hidden;
  }

  /* Sidebar */
  .admin-sidebar {
    @apply z-20 hidden w-64 overflow-y-auto bg-white dark:bg-gray-800 md:block flex-shrink-0;
  }

  .admin-sidebar-mobile {
    @apply fixed inset-y-0 z-50 flex-shrink-0 w-64 overflow-y-auto bg-white dark:bg-gray-800 transition-transform duration-150 ease-in-out transform;
  }

  .admin-sidebar-mobile.hidden {
    @apply -translate-x-full;
  }

  .admin-sidebar-header {
    @apply py-4 text-gray-500 dark:text-gray-400;
  }

  .admin-logo {
    @apply ml-6 text-lg font-bold text-gray-800 dark:text-gray-200;
  }

  /* Sidebar Navigation */
  .admin-nav {
    @apply mt-6;
  }

  .admin-nav-item {
    @apply relative px-6 py-3 flex items-center text-gray-600 dark:text-gray-400 transition-colors duration-150 hover:text-gray-800 dark:hover:text-gray-200;
  }

  .admin-nav-item.active {
    @apply text-gray-800 dark:text-gray-100;
  }

  .admin-nav-item.active::before {
    content: "";
    @apply absolute inset-y-0 left-0 w-1 bg-purple-600 rounded-tr-lg rounded-br-lg;
  }

  .admin-nav-icon {
    @apply w-5 h-5;
  }

  .admin-nav-text {
    @apply ml-4;
  }

  /* Main Content Area */
  .admin-main {
    @apply flex flex-col flex-1 w-full overflow-hidden;
  }

  .admin-header {
    @apply z-10 py-4 bg-white shadow-md dark:bg-gray-800;
  }

  .admin-header-content {
    @apply flex items-center justify-between h-full px-6 mx-auto text-purple-600 dark:text-purple-300;
  }

  /* Mobile Menu Button */
  .admin-mobile-menu-btn {
    @apply p-1 mr-5 -ml-1 rounded-md md:hidden focus:outline-none focus:shadow-outline-purple;
  }

  /* Search */
  .admin-search {
    @apply flex justify-center flex-1 lg:mr-32;
  }

  .admin-search-input {
    @apply w-full pl-8 pr-2 text-sm text-gray-700 placeholder-gray-600 bg-gray-100 border-0 rounded-md dark:placeholder-gray-500 dark:focus:shadow-outline-gray dark:focus:placeholder-gray-600 dark:bg-gray-700 dark:text-gray-200 focus:placeholder-gray-500 focus:bg-white focus:border-purple-300 focus:outline-none focus:shadow-outline-purple;
  }

  /* Header Actions */
  .admin-header-actions {
    @apply flex items-center flex-shrink-0 space-x-6;
  }

  /* Theme Toggle */
  .theme-toggle-btn {
    @apply rounded-md focus:outline-none focus:shadow-outline-purple;
  }

  /* Notifications */
  .notifications-btn {
    @apply relative align-middle rounded-md focus:outline-none focus:shadow-outline-purple;
  }

  .notification-badge {
    @apply absolute top-0 right-0 inline-block w-3 h-3 transform translate-x-1 -translate-y-1 bg-red-600 border-2 border-white rounded-full dark:border-gray-800;
  }

  /* Profile Menu */
  .profile-menu-btn {
    @apply align-middle rounded-full focus:shadow-outline-purple focus:outline-none;
  }

  .profile-avatar {
    @apply object-cover w-8 h-8 rounded-full;
  }

  .profile-dropdown {
    @apply absolute right-0 w-56 p-2 mt-2 space-y-2 text-gray-600 bg-white border border-gray-100 rounded-md shadow-md dark:border-gray-700 dark:text-gray-300 dark:bg-gray-700;
  }

  /* Content Container */
  .admin-content {
    @apply overflow-y-auto overflow-x-hidden flex-1;
  }

  .admin-container {
    @apply px-6 mx-auto grid;
  }

  /* Page Header */
  .page-header {
    @apply my-6 flex items-center justify-between;
  }

  .page-title {
    @apply text-2xl font-semibold text-gray-700 dark:text-gray-200;
  }

  .page-actions {
    @apply flex items-center gap-3;
  }

  /* ============= CARDS & WIDGETS ============= */

  /* Stats Card */
  .stats-card {
    @apply flex items-center p-4 bg-white rounded-lg shadow-xs dark:bg-gray-800;
  }

  .stats-icon-container {
    @apply p-3 mr-4 text-orange-500 bg-orange-100 rounded-full dark:text-orange-100 dark:bg-orange-500;
  }

  .stats-icon-container.green {
    @apply text-green-500 bg-green-100 dark:text-green-100 dark:bg-green-500;
  }

  .stats-icon-container.blue {
    @apply text-blue-500 bg-blue-100 dark:text-blue-100 dark:bg-blue-500;
  }

  .stats-icon-container.teal {
    @apply text-teal-500 bg-teal-100 dark:text-teal-100 dark:bg-teal-500;
  }

  .stats-icon {
    @apply w-5 h-5;
  }

  .stats-label {
    @apply mb-2 text-sm font-medium text-gray-600 dark:text-gray-400;
  }

  .stats-value {
    @apply text-lg font-semibold text-gray-700 dark:text-gray-200;
  }

  /* Table Card */
  .table-card {
    @apply w-full overflow-hidden rounded-lg shadow-xs;
  }

  .table-container {
    @apply w-full overflow-x-auto;
  }

  .admin-table {
    @apply w-full whitespace-nowrap;
  }

  .admin-table thead {
    @apply text-xs font-semibold tracking-wide text-left text-gray-500 uppercase border-b dark:border-gray-700 bg-gray-50 dark:text-gray-400 dark:bg-gray-800;
  }

  .admin-table th {
    @apply px-4 py-3;
  }

  .admin-table tbody {
    @apply bg-white divide-y dark:divide-gray-700 dark:bg-gray-800;
  }

  .admin-table td {
    @apply px-4 py-3 text-sm;
  }

  /* Avatar in Table */
  .table-avatar {
    @apply flex items-center text-sm;
  }

  .table-avatar img {
    @apply object-cover w-8 h-8 mr-3 rounded-full;
  }

  .table-avatar-name {
    @apply font-semibold;
  }

  /* Status Badges */
  .badge-success {
    @apply px-2 py-1 text-xs font-semibold leading-tight text-green-700 bg-green-100 rounded-full dark:bg-green-700 dark:text-green-100;
  }

  .badge-warning {
    @apply px-2 py-1 text-xs font-semibold leading-tight text-orange-700 bg-orange-100 rounded-full dark:text-white dark:bg-orange-600;
  }

  .badge-danger {
    @apply px-2 py-1 text-xs font-semibold leading-tight text-red-700 bg-red-100 rounded-full dark:text-red-100 dark:bg-red-700;
  }

  .badge-neutral {
    @apply px-2 py-1 text-xs font-semibold leading-tight text-gray-700 bg-gray-100 rounded-full dark:text-gray-100 dark:bg-gray-700;
  }

  /* Action Buttons */
  .btn-action,
  .btn-primary {
    @apply px-4 py-2 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-purple-600 border border-transparent rounded-lg active:bg-purple-600 hover:bg-purple-700 focus:outline-none focus:shadow-outline-purple;
  }

  .btn-secondary {
    @apply px-4 py-2 text-sm font-medium leading-5 text-gray-700 dark:text-gray-300 transition-colors duration-150 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:shadow-outline-gray;
  }

  .btn-danger {
    @apply px-4 py-2 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-red-600 border border-transparent rounded-lg active:bg-red-700 hover:bg-red-700 focus:outline-none focus:shadow-outline-red;
  }

  .btn-success {
    @apply px-4 py-2 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-green-600 border border-transparent rounded-lg active:bg-green-700 hover:bg-green-700 focus:outline-none focus:shadow-outline-green;
  }

  .btn-action-outline {
    @apply px-3 py-1 text-sm font-medium leading-5 text-purple-600 transition-colors duration-150 bg-transparent border border-purple-600 rounded-md active:bg-transparent hover:bg-purple-600 hover:text-white focus:outline-none focus:shadow-outline-purple;
  }

  /* Icon Buttons */
  .btn-icon {
    @apply flex items-center justify-between px-2 py-2 text-sm font-medium leading-5 text-purple-600 rounded-lg dark:text-gray-400 focus:outline-none focus:shadow-outline-gray;
  }

  .btn-icon:hover {
    @apply text-gray-700 dark:text-gray-200;
  }

  /* ============= FORMS ============= */

  .form-card {
    @apply p-6 bg-white rounded-lg shadow-xs dark:bg-gray-800;
  }

  .form-group {
    @apply mb-4;
  }

  .form-label {
    @apply block text-sm font-medium text-gray-700 dark:text-gray-400 mb-2;
  }

  .form-input {
    @apply block w-full mt-1 text-sm border border-gray-300 rounded-md px-3 py-2 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-opacity-50 dark:text-gray-300;
  }

  .form-select {
    @apply block w-full mt-1 text-sm border border-gray-300 rounded-md px-3 py-2 dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-opacity-50;
  }

  .form-textarea {
    @apply block w-full mt-1 text-sm border border-gray-300 rounded-md px-3 py-2 dark:text-gray-300 dark:border-gray-600 dark:bg-gray-700 focus:border-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-opacity-50;
  }

  .form-checkbox {
    @apply w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-600 focus:ring-2 focus:ring-offset-0 dark:border-gray-600 dark:bg-gray-700;
  }

  .form-radio {
    @apply w-4 h-4 text-purple-600 border-gray-300 focus:ring-purple-600 focus:ring-2 focus:ring-offset-0 dark:border-gray-600 dark:bg-gray-700;
  }

  /* ============= PAGINATION ============= */

  .admin-pagination {
    @apply px-4 py-3 text-xs font-semibold tracking-wide text-gray-500 uppercase border-t dark:border-gray-700 bg-gray-50 sm:grid-cols-9 dark:text-gray-400 dark:bg-gray-800;
  }

  .pagination-info {
    @apply flex items-center col-span-3;
  }

  .pagination-controls {
    @apply flex col-span-4 mt-2 sm:mt-auto sm:justify-end;
  }

  .pagination-btn {
    @apply px-3 py-1 rounded-md focus:outline-none focus:shadow-outline-purple;
  }

  .pagination-number {
    @apply px-3 py-1 rounded-md focus:outline-none focus:shadow-outline-purple;
  }

  .pagination-number.active {
    @apply text-white transition-colors duration-150 bg-purple-600 border border-r-0 border-purple-600;
  }

  /* ============= MODAL ============= */

  .modal-backdrop {
    @apply fixed inset-0 z-30 flex items-end bg-black bg-opacity-50 sm:items-center sm:justify-center;
  }

  .modal-container {
    @apply w-full px-6 py-4 overflow-hidden bg-white rounded-t-lg dark:bg-gray-800 sm:rounded-lg sm:m-4 sm:max-w-xl;
  }

  .modal-header {
    @apply mt-4 mb-6;
  }

  .modal-title {
    @apply mb-2 text-lg font-semibold text-gray-700 dark:text-gray-300;
  }

  .modal-description {
    @apply text-sm text-gray-700 dark:text-gray-400;
  }

  .modal-footer {
    @apply flex flex-col items-center justify-end px-6 py-3 -mx-6 -mb-4 space-y-4 sm:space-y-0 sm:space-x-6 sm:flex-row bg-gray-50 dark:bg-gray-800;
  }

  /* Custom Modal Styles for Users/Roles/Permissions Pages */
  .modal {
    @apply fixed inset-0 z-50 flex items-center justify-center;
    display: none;
    background-color: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(2px);
  }

  .modal.modal-open {
    display: flex;
  }

  .modal-content {
    @apply bg-white dark:bg-gray-800 rounded-lg shadow-2xl;
    max-width: 600px;
    width: 90%;
    max-height: 90vh;
    overflow-y: auto;
    animation: modalSlideIn 0.3s ease-out;
  }

  @keyframes modalSlideIn {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .modal-header {
    @apply flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700;
  }

  .modal-header h2 {
    @apply text-xl font-semibold text-gray-900 dark:text-white;
  }

  .modal-close {
    @apply text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 text-3xl font-bold leading-none;
    background: none;
    border: none;
    cursor: pointer;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .modal-body {
    @apply p-6;
  }

  .modal-footer {
    @apply flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700;
  }

  /* ============= CHARTS ============= */

  .chart-container {
    @apply p-4 bg-white rounded-lg shadow-xs dark:bg-gray-800;
  }

  .chart-title {
    @apply mb-4 font-semibold text-gray-800 dark:text-gray-300;
  }

  /* ============= UTILITIES ============= */

  .dark-mode-icon {
    @apply w-5 h-5;
  }

  .menu-icon {
    @apply w-6 h-6;
  }
}
