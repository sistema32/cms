<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LexSlider Editor</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="app">
        <!-- VIEW: DASHBOARD -->
        <div id="view-dashboard" class="view active">
            <div class="header">
                <div class="logo">LexSlider</div>
                <button class="btn-primary" id="btn-new-slider">
                    <span class="material-icons-round">add</span> New Slider
                </button>
            </div>

            <main class="content">
                <div id="slider-list" class="slider-grid">
                    <p class="loading">Loading sliders...</p>
                </div>
            </main>
        </div>

        <!-- VIEW: EDITOR -->
        <div id="view-editor" class="view hidden">
            <header class="editor-header">
                <div class="header-left">
                    <button id="btn-back-dashboard" class="btn-icon" title="Back to Dashboard">
                        <span class="material-icons-round">arrow_back</span>
                    </button>
                    <div class="slider-meta">
                        <span id="editor-slider-name" class="slider-name">My Slider</span>
                        <span class="badge">AUTOSAVED</span>
                    </div>
                </div>

                <div class="header-center">
                    <div class="device-switcher">
                        <button class="btn-icon active" data-device="desktop" title="Desktop">
                            <span class="material-icons-round">desktop_windows</span>
                        </button>
                        <button class="btn-icon" data-device="tablet" title="Tablet">
                            <span class="material-icons-round">tablet_mac</span>
                        </button>
                        <button class="btn-icon" data-device="mobile" title="Mobile">
                            <span class="material-icons-round">smartphone</span>
                        </button>
                    </div>
                </div>

                <div class="header-right">
                    <button id="btn-add-slide" class="btn-secondary" onclick="window.LexSlider.addSlide()">
                        <span class="material-icons-round">add_photo_alternate</span> Add Slide
                    </button>
                    <button id="btn-save-slider" class="btn-primary">
                        <span class="material-icons-round">save</span> Save Changes
                    </button>
                </div>
            </header>

            <div class="editor-workspace">
                <!-- LEFT SIDEBAR: LAYERS & SLIDES -->
                <aside class="editor-sidebar left">
                    <div class="sidebar-tabs">
                        <button class="tab-btn active" data-tab="layers">Layers</button>
                        <button class="tab-btn" data-tab="slides">Slides</button>
                    </div>

                    <div id="tab-layers" class="sidebar-panel active">
                        <div class="panel-header">
                            <h3>Add Layer</h3>
                        </div>
                        <div style="padding: 10px;">
                            <div class="layer-tools">
                                <button class="btn-tool" onclick="editor.addLayer('heading')" title="Heading"><span
                                        class="material-icons-round">title</span></button>
                                <button class="btn-tool" onclick="editor.addLayer('text')" title="Text"><span
                                        class="material-icons-round">text_fields</span></button>
                                <button class="btn-tool" onclick="editor.addLayer('image')" title="Image"><span
                                        class="material-icons-round">image</span></button>
                                <button class="btn-tool" onclick="editor.addLayer('button')" title="Button"><span
                                        class="material-icons-round">smart_button</span></button>
                                <button class="btn-tool" onclick="editor.addLayer('video')" title="Video"><span
                                        class="material-icons-round">play_circle</span></button>
                                <button class="btn-tool" onclick="editor.addLayer('icon')" title="Icon"><span
                                        class="material-icons-round">star</span></button>
                            </div>
                        </div>

                        <div class="panel-header" style="border-top: 1px solid var(--border);">
                            <h3>Layer List</h3>
                        </div>
                        <div id="layer-list" class="layer-tree">
                            <!-- Layer items injected here -->
                        </div>
                    </div>

                    <div id="tab-slides" class="sidebar-panel">
                        <div id="slide-list" class="slide-list">
                            <!-- Slide items injected here -->
                        </div>
                    </div>
                </aside>

                <!-- CENTER: CANVAS -->
                <div class="editor-canvas-area">
                    <div class="canvas-wrapper">
                        <div id="editor-canvas" class="editor-canvas desktop">
                            <!-- Slide content rendered here -->
                            <div id="canvas-content" class="canvas-content"></div>
                        </div>
                    </div>
                </div>

                <!-- RIGHT SIDEBAR: PROPERTIES -->
                <aside class="editor-sidebar right">
                    <div class="panel-header">
                        <h3>Properties</h3>
                    </div>
                    <div id="property-inspector" class="property-form">
                        <div class="empty-selection"
                            style="padding: 2rem; text-align: center; color: var(--text-muted);">
                            <span class="material-icons-round"
                                style="font-size: 48px; opacity: 0.2; margin-bottom: 1rem;">touch_app</span>
                            <p>Select a layer to edit properties</p>
                        </div>
                    </div>
                </aside>
            </div>

            <!-- TIMELINE PANEL -->
            <div id="timeline-panel" class="timeline-panel">
                <!-- Timeline content injected by JS -->
            </div>
        </div>
    </div>

    <!-- Context Menu -->
    <div id="context-menu" class="context-menu hidden">
        <div class="context-menu-item" id="ctx-duplicate">
            <span class="material-icons-round">content_copy</span> Duplicate
        </div>
        <div class="context-menu-item" id="ctx-delete">
            <span class="material-icons-round">delete</span> Delete
        </div>
        <div class="context-menu-divider"></div>
        <div class="context-menu-item" id="ctx-front">
            <span class="material-icons-round">flip_to_front</span> Bring to Front
        </div>
        <div class="context-menu-item" id="ctx-back">
            <span class="material-icons-round">flip_to_back</span> Send to Back
        </div>
    </div>

    <!-- Modal: New Slider -->
    <div id="modal-new-slider" class="modal hidden">
        <div class="modal-content">
            <h2>Create New Slider</h2>
            <form id="form-new-slider">
                <div class="form-group">
                    <label>Title</label>
                    <input type="text" name="title" required placeholder="My Awesome Slider" autofocus>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Width (px)</label>
                        <input type="number" name="width" value="1200">
                    </div>
                    <div class="form-group">
                        <label>Height (px)</label>
                        <input type="number" name="height" value="600">
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="btn-cancel">Cancel</button>
                    <button type="submit" class="btn-primary">Create Slider</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal: Asset Manager -->
    <div id="modal-asset-manager" class="modal hidden">
        <div class="modal-content" style="max-width: 600px;">
            <h2>Select Image</h2>
            <div class="asset-tabs"
                style="display: flex; gap: 10px; margin-bottom: 16px; border-bottom: 1px solid var(--border);">
                <button class="tab-btn active" onclick="window.LexSlider.switchAssetTab('url')">URL</button>
                <button class="tab-btn" onclick="window.LexSlider.switchAssetTab('library')">Library</button>
            </div>

            <div id="asset-tab-url" class="asset-panel">
                <div class="form-group">
                    <label>Image URL</label>
                    <input type="text" id="asset-url-input" placeholder="https://example.com/image.jpg"
                        style="width: 100%;">
                </div>
            </div>

            <div id="asset-tab-library" class="asset-panel hidden">
                <div class="asset-grid"
                    style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; max-height: 300px; overflow-y: auto;">
                    <!-- Mock Images -->
                    <div class="asset-item"
                        onclick="window.LexSlider.selectAsset('https://images.unsplash.com/photo-1493246507139-91e8fad9978e?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80')">
                        <img src="https://images.unsplash.com/photo-1493246507139-91e8fad9978e?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80"
                            style="width: 100%; height: 100px; object-fit: cover; border-radius: 4px;">
                    </div>
                    <div class="asset-item"
                        onclick="window.LexSlider.selectAsset('https://images.unsplash.com/photo-1518173946687-a4c8892bbd9f?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80')">
                        <img src="https://images.unsplash.com/photo-1518173946687-a4c8892bbd9f?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80"
                            style="width: 100%; height: 100px; object-fit: cover; border-radius: 4px;">
                    </div>
                    <div class="asset-item"
                        onclick="window.LexSlider.selectAsset('https://images.unsplash.com/photo-1501785888041-af3ef285b470?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80')">
                        <img src="https://images.unsplash.com/photo-1501785888041-af3ef285b470?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80"
                            style="width: 100%; height: 100px; object-fit: cover; border-radius: 4px;">
                    </div>
                </div>
            </div>

            <div class="form-actions">
                <button type="button" class="btn-secondary"
                    onclick="window.LexSlider.closeAssetManager()">Cancel</button>
                <button type="button" class="btn-primary" onclick="window.LexSlider.confirmAsset()">Select</button>
            </div>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
</body>

</html>